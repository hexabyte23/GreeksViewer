
undefine $*

set terminal png size 800,600 enhanced font Arial 13
set grid

set isosample 30
set view 50,10
set border 4095

#set palette model XYZ functions gray**0.35, gray**0.5, gray**0.8
set palette model HSV rgbformulae 3,2,2
set pm3d scansbackward
set hidden3d
set contour

outputPath = "./output/"

set xlabel "Spot" offset -3,-2
set ylabel "Time"
set zlabel "Value"

set xrange [-0:100]
set yrange [0.001:5] 

load "formula.txt"

K = 50
r = 0.08
q = 0.01
v = 0.3

#set title "Call option"
#set output outputPath."option-call-greeks-3d.png"
#set multiplot layout 6,1

set output outputPath."option-call-value-3d.png"
splot OptionCall(x, K, y, r, q, v) #with pm3d

set output outputPath."option-put-value-3d.png"
splot OptionPut(x, K, y, r, q, v) #with pm3d

set output outputPath."option-straddle-value-3d.png"
splot Straddle(x, K, y, r, q, v) #with pm3d

set output outputPath."option-call-delta-3d.png"
splot DeltaCall(x, K, y, r, q, v)

set output outputPath."option-put-delta-3d.png"
splot DeltaPut(x, K, y, r, q, v) 

set output outputPath."option-straddle-delta-3d.png"
splot DeltaStraddle(x, K, y, r, q, v) 

set output outputPath."option-call-gamma-3d.png"
splot GammaCall(x, K, y, r, q, v)

set output outputPath."option-put-gamma-3d.png"
splot GammaPut(x, K, y, r, q, v)

set output outputPath."option-straddle-gamma-3d.png"
splot GammaStraddle(x, K, y, r, q, v)

set output outputPath."option-call-theta-3d.png"
splot ThetaCall(x, K, y, r, q, v)

set output outputPath."option-put-theta-3d.png"
splot ThetaPut(x, K, y, r, q, v)

set output outputPath."option-straddle-theta-3d.png"
splot ThetaStraddle(x, K, y, r, q, v)

set output outputPath."option-call-rho-3d.png"
splot RhoCall(x, K, y, r, q, v)

set output outputPath."option-put-rho-3d.png"
splot RhoPut(x, K, y, r, q, v)

set output outputPath."option-straddle-rho-3d.png"
splot RhoStraddle(x, K, y, r, q, v)

set output outputPath."option-call-vega-3d.png"
splot VegaCall(x, K, y, r, q, v)

set output outputPath."option-put-vega-3d.png"
splot VegaPut(x, K, y, r, q, v)

set output outputPath."option-straddle-vega-3d.png"
splot VegaStraddle(x, K, y, r, q, v)

set output outputPath."forward-value-3d.png"
splot Forward(x, K, y, r)

set output outputPath."forward-theta-3d.png"
splot ThetaForward(x, K, y, r)

set output outputPath."forward-rho-3d.png"
splot RhoForward(x, K, y, r)

