
undefine $*

set terminal png size 800,600 enhanced font 'Verdana,10'
set grid

set samples 30
set isosample 40
set view 50,10
set border 4095

set palette model XYZ functions gray**0.35, gray**0.5, gray**0.8
#set palette model HSV rgbformulae 3,2,2
set pm3d scansbackward
set hidden3d
set contour

set xlabel "Spot" offset -3,-2
set ylabel "Time"
set zlabel "Value"

set xrange [-0:100]
set yrange [0.001:10] 

load "formula.txt"

K = 50
r = 0.08
v = 0.25

#set title "Call option"
#set output "option-call-greeks-3d.png"
#set multiplot layout 6,1

set output "option-call-value-3d.png"
splot OptionCall(x, K, y, r, v) #with pm3d

set output "option-put-value-3d.png"
splot OptionPut(x, K, y, r, v) #with pm3d

set output "option-call-delta-3d.png"
splot DeltaCall(x, K, y, r, v)

set output "option-put-delta-3d.png"
splot DeltaPut(x, K, y, r, v) 

set output "option-call-gamma-3d.png"
splot GammaCall(x, K, y, r, v)

set output "option-put-gamma-3d.png"
splot GammaPut(x, K, y, r, v)

set output "option-call-theta-3d.png"
splot ThetaCall(x, K, y, r, v)

set output "option-put-theta-3d.png"
splot ThetaPut(x, K, y, r, v)

set output "option-call-rho-3d.png"
splot RhoCall(x, K, y, r, v)

set output "option-put-rho-3d.png"
splot RhoPut(x, K, y, r, v)

set output "option-call-vega-3d.png"
splot VegaCall(x, K, y, r, v)

set output "forward-value-3d.png"
splot Forward(x, K, y, r)

set output "forward-theta-3d.png"
splot ThetaForward(x, K, y, r)

set output "forward-rho-3d.png"
splot RhoForward(x, K, y, r)

